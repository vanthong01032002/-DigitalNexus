{% extends 'layouts/base.html' %}

{% block title %}Đổi Mật Khẩu | MMOShop{% endblock %}

{% block extra_css %}
<style>
    .change-password-container {
        max-width: 600px;
        margin: 2rem auto;
        padding: 2rem;
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .change-password-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .change-password-title {
        color: #2c3e50;
        font-size: 1.8rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .change-password-description {
        color: #6c757d;
        font-size: 1rem;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-label {
        display: block;
        color: #2c3e50;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .form-input {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 1px solid #e9ecef;
        border-radius: 4px;
        font-size: 1rem;
        color: #2c3e50;
        transition: border-color 0.3s ease;
    }

    .form-input:focus {
        outline: none;
        border-color: #159ee3;
        box-shadow: 0 0 0 2px rgba(21, 158, 227, 0.1);
    }

    .form-input::placeholder {
        color: #adb5bd;
    }

    .btn-submit {
        width: 100%;
        padding: 0.75rem;
        background-color: #159ee3;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn-submit:hover {
        background-color: #1184bd;
    }

    .btn-submit:disabled {
        background-color: #adb5bd;
        cursor: not-allowed;
    }

    .form-error {
        color: #e74c3c;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .form-success {
        color: #2ecc71;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .password-requirements {
        margin-top: 1rem;
        padding: 1rem;
        background-color: #f8f9fa;
        border-radius: 4px;
    }

    .password-requirements-title {
        color: #2c3e50;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .password-requirements-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .password-requirements-item {
        color: #6c757d;
        font-size: 0.875rem;
        margin-bottom: 0.25rem;
        display: flex;
        align-items: center;
    }

    .password-requirements-item::before {
        content: "•";
        color: #159ee3;
        margin-right: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="change-password-container">
    <div class="change-password-header">
        <h1 class="change-password-title">Đổi Mật Khẩu</h1>
        <p class="change-password-description">Vui lòng nhập mật khẩu hiện tại và mật khẩu mới của bạn</p>
    </div>

    <form method="POST" action="{{ url_for('change_password') }}">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            <label for="current_password" class="form-label">Mật khẩu hiện tại</label>
            {{ form.current_password(class="form-input", placeholder="Nhập mật khẩu hiện tại") }}
            {% if form.current_password.errors %}
                {% for error in form.current_password.errors %}
                    <div class="form-error">{{ error }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="new_password" class="form-label">Mật khẩu mới</label>
            {{ form.new_password(class="form-input", placeholder="Nhập mật khẩu mới") }}
            {% if form.new_password.errors %}
                {% for error in form.new_password.errors %}
                    <div class="form-error">{{ error }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="confirm_password" class="form-label">Xác nhận mật khẩu mới</label>
            {{ form.confirm_password(class="form-input", placeholder="Nhập lại mật khẩu mới") }}
            {% if form.confirm_password.errors %}
                {% for error in form.confirm_password.errors %}
                    <div class="form-error">{{ error }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="password-requirements">
            <h3 class="password-requirements-title">Yêu cầu mật khẩu:</h3>
            <ul class="password-requirements-list">
                <li class="password-requirements-item">Ít nhất 8 ký tự</li>
                <li class="password-requirements-item">Chứa ít nhất một chữ cái viết hoa</li>
                <li class="password-requirements-item">Chứa ít nhất một chữ số</li>
                <li class="password-requirements-item">Chứa ít nhất một ký tự đặc biệt</li>
            </ul>
        </div>

        <button type="submit" class="btn-submit">Đổi Mật Khẩu</button>
    </form>
</div>
{% endblock %}
